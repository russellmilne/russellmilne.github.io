<!DOCTYPE html>
<html>
<head>
	<script src="papaparse.min.js" type="text/javascript"></script>
</head>
<body>
	<p><textarea id="input" style="font-family:sans-serif;" rows="10" cols="75" placeholder="Input some text here"></textarea></p>
	<p><input type="button" value="This button doesn't do anything right now"></p>
	<p id="dump"></p>
	<script type="text/javascript">
		var onlyButton = document.querySelectorAll("input[type='button']")[0];

		onlyButton.onclick = function() {
			var symbolManifest = "";

			Papa.parse("csv/fa.csv", {
				header: false,
				dynamicTyping: false,
				download: true,
				delimiter: ",",
				complete: function(results) {
					var wordlist = results.data;
					var ipaRegex = /[^ ,\/]+/;

					console.log(wordlist[0][1].length);

					for (i = 0; i < wordlist.length; i++) {
						var currentIPA = wordlist[i][1];

						if (currentIPA == undefined) {
							currentIPA = "/ /"
						}

						var currentIPACleaned = ipaRegex.exec(currentIPA)[0];

						for (j = 0; j < currentIPACleaned.length; j++) {
							var not_yet_included = true;

							for (k = 0; k < symbolManifest.length; k++) {
								if (currentIPACleaned.charAt(j) == symbolManifest.charAt(k)) {
									not_yet_included = false;
								}
							}

							if (not_yet_included == true) {
								symbolManifest = symbolManifest.concat(currentIPACleaned.charAt(j));
							}
						}
					}

					console.log(symbolManifest);
					document.getElementById("dump").innerHTML = symbolManifest;
				}
			})
		}
	</script>
</body>
</html>