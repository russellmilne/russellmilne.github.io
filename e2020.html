<!DOCTYPE html>
<html>
<head>
	<title>2020 election prediction</title>
</head>
<body>
	<p>For the 2020 Democratic primaries, I have decided to predict results using a simple regression based on demographics. To accomplish this, I performed the following steps:</p>
	<ul>
		<li>Download data tables full of demographic estimates (specifically, the most recent edition of the American Community Survey) from the <a href="https://data.census.gov/cedsci/">United States Census Bureau</a>. I did this for counties (to generate county-level result maps) and congressional districts (to predict delegate totals, as delegates are awarded according to results in each congressional district of a state).</li>
		<li>Use principal component analysis to distill the data down to its most important features.</li>
		<li>Obtain results from the primaries/caucuses that have already happened (from <a href="https://uselectionatlas.org">Dave Leip's election atlas</a>) to use as fitting data. I normalized the results for each candidate in a given state by that candidate's statewide average, in order to remove the confounding factor of changing poll numbers and get results that would just reflect demographic strengths and weaknesses.</li>
		<li>For each candidate, do a quadratic multivariate regression utilizing the most important principal components (in my case the first six, which together explained about 96% of the variance). This generates a surface representing that candidate's support as a function of demographics. I used <a href="http://www.ahmetcecen.tech/MultiPolyRegress-MatlabCentral/">MATLAB code created by Ahmet Cecen</a> for this.</li>
		<li>Use these surfaces to estimate support for each candidate relative to their statewide support in each county or congressional district being predicted. Then, multiply by each candidate's current polling numbers and scale to 100% to get raw support in percentage points.</li>
		<li>After Super Tuesday, the two remaining candidates with the most support were Bernie Sanders and Joe Biden. Therefore, instead of fitting support surfaces for each candidate, I decided to perform regression on the ratio of support for Sanders to support for Biden. This made it easier to make predictions of county winners and earned delegates.</li>
	</ul>
	<p>To test my model, I decided to predict the results in South Carolina using those from Iowa, New Hampshire and Nevada.</p>
	<p><input type="button" value="Show the South Carolina predictions"></p>
	<div id="sc_predictions" style="display:none">
		The model successfully predicted that Biden would outperform his polls, although it allotted him fewer delegates than he actually received due to having Steyer above the threshold to receive delegates. The model also missed on some county-level predictions, although it performed rather well in terms of predicting which counties each candidate would be strong in. I viewed this test of the model as a success, particularly because the three states that voted previously (IA, NH and NV) are demographically dissimilar to South Carolina, making a prediction based on regression difficult. The model's predictions were as follows:
		<ul>
			<li>Joe Biden: 27 delegates, wins in all counties not mentioned below</li>
			<li>Bernie Sanders: 15 delegates, wins in Aiken, Anderson, Georgetown, Greenville, Horry, Lancaster, Oconee, Pickens and Spartanburg Counties</li>
			<li>Tom Steyer: 12 delegates, wins in Abbeville, Berkeley, Cherokee, Dorchester, Greenwood, Lexington and York Counties</li>
			<li>All other candidates: 0 delegates, no county wins</li>
		</ul>
		<img src="sc_predictions.png" alt="South Carolina model predictions" style="width:500px; height:398.5px;">
	</div>
	<p>Prior to Super Tuesday, I made predictions and performed analysis on the model output. This included interpretations of patterns in candidate support as well as of my principal components.</p>
	<p><input type="button" value="Show Super Tuesday predictions and analysis"></p>
	<div id="super_tuesday_analysis" style="display:none">
		<p>Before I introduce my predictions, two important notes are necessary. Firstly, my model is only as good as its input. After performing regression to get candidate support as a function of demographics, normalized to a hypothetical baseline of support, I input the then-current polling numbers to get actual numerical predictions. Therefore, since the polls were off due to not having caught up with fast-moving events, so was my model. Secondly, both my predictions and my commentary are solely based on model output. I'm not attempting to put my thumb on the scale, and I'm definitely not attempting to inject personal views into any of this. I'm a mathematician, not a pundit. Having said that, I have included a county map of my Super Tuesday predictions below. Green is Sanders, blue is Biden, red is Warren and magenta is Bloomberg.</p>
		<p><img src="county_predictions_supertuesday.svg" alt="Super Tuesday county-level predictions"></p>
		<p>I'll also mention my delegate predictions before I get into the math:</p>
		<ul>
			<li>Alabama: Biden 30, Sanders 11, Bloomberg 11</li>
			<li>Arkansas: Biden 12, Sanders 9, Bloomberg 9, Warren 1</li>
			<li>Massachusetts: Sanders 37, Warren 32, Biden 18, Bloomberg 4</li>
			<li>Maine: Sanders 9, Bloomberg 6, Biden 5, Warren 4</li>
			<li>North Carolina: Biden 47, Sanders 35, Bloomberg 23, Warren 5</li>
			<li>Oklahoma: Biden 13, Sanders 12, Bloomberg 8, Warren 4</li>
			<li>Tennessee: Biden 25, Sanders 23, Bloomberg 15, Warren 1</li>
			<li>Vermont: Sanders 12, Warren 4</li>
			<li>Virginia: Biden 56, Sanders 22, Bloomberg 17, Warren 4</li>
			<li>In the other states, I wasn't able to finish calculating delegate apportionment before polls closed.</li>
		</ul>
		<p>Since Bloomberg did not campaign in any of the states prior to Super Tuesday, my model treated him as a blank slate in terms of demographic patterns of support. This means that was predicted to do best in areas that didn't particularly fit in with the other major candidates' bases. On the map above, Bloomberg's county wins are in Mormon-heavy counties in rural Utah (where he is helped by a high polling average as of March 3), ski resorts in Colorado, Native American areas in Oklahoma and Minnesota, and a county in Texas (Coryell) that contains a large military population. All of these have their own statistical signatures in their demographics that for whatever reason didn't match with high levels of support for Sanders, Biden or Warren. In actuality, Bloomberg's support correlated quite well with the third principal component I used (see below). This meant that he did in fact do well in the ski counties, and he did better in rural compared to urban Utah, but the rest of the demographic outliers assigned to him didn't follow suit.</p>
		<p>My model successfully predicted Biden's two main sources of support on Super Tuesday, namely counties with high values of principal components 2 and 3. I will visualize this, starting with an explanation of my principal components. When the first two principal components that I base my model on are plotted against each other for all 3142 counties in the United States, the result is a rather tidy-looking triangle:</p>
		<p><img src="pc_1_2.svg" alt="First two principal components"></p>
		<p>The vertices of this triangle are Garfield County, Montana (high PC1), Jefferson County, Mississippi (low PC1, high PC2), and Starr County, Texas (low PC1, low PC2). In some ways, these represent the Platonic ideals of rural counties in the Midwest/northern Great Plains, Southeast, and Southwest, respectively. Distance from the second of these vertices correlates well with percent black population in a county.</p>
		<p>Socioeconomic status is often a nebulous concept, typically based around income and education, and as a result it is hard to quantify. However, my third principal component seems to correlate very well with it. This can be attested to by a map of PC3 on a county level (below). Here, counties are shaded according to which quintile for PC3 they belong to (with red being low and green being high); additionally, the top 5% of counties are highlighted by being in a darker green than the rest of the top quintile. The highest counties are rich and well-educated, while the lowest are poor and mostly rural:</p>
		<p><img src="pc3_quintiles_top5.svg" alt="Principal component 3 by county, sorted into quintiles with top 5% highlighted"></p>
		<p>Plotting Biden's results as a function of PC2 and PC3 demonstrates his two main bases (high black population and high socioeconomic status). This shows up in the prediction map above, as well as in the actual results. For example, both the model and the eventual results had Biden sweeping every county in Alabama, and doing best in East Texas and West Tennessee. Additionally, the model correctly determined that Douglas County would be Biden's best in Colorado (disregarding a couple small rural counties with fewer than 100 votes cast each), and that he would do well in the Bay Area. The relationship that his support has with both PC2 and PC3 can be seen in this figure I created prior to making Super Tuesday predictions:</p>
		<p><img src="proj_biden_supertuesday_pc23.svg" alt="Projected support for Biden as a function of principal components 2 and 3"></p>
		<p>My model predicted support for Sanders fairly well, although it had room for improvement. Since the counties in the four pre-Super Tuesday states didn't cover the entire principal component space, part of the model's predictions were necessarily extrapolations. The model had Sanders doing extremely well in areas with low values of both PC1 and PC2 (anecdotally, these areas were generally rural and low-density with high Hispanic populations, with many in Texas). While these areas did give Sanders above average support, they were far from the predicted blowout wins. Prior to Super Tuesday, the model also found support for Sanders to be negatively correlated with PC3, which can be seen in this graph which plots PC1 and PC3:</p>
		<p><img src="proj_sanders_supertuesday_pc13.svg" alt="Projected support for Sanders as a function of principal components 1 and 3"></p>
		<p>This led to counterintuitive predictions such as Sanders doing very well in rural West Texas but poorly in Austin. It also led to an overstatement of his performance in rural Tennessee (although the model correctly viewed the mountains of East Tennessee as potentially his best area, as it did with similar areas in western North Carolina). The actual Super Tuesday results instead suggest that Sanders's support is less related to PC3 than the interface of PC3 and PC1, since many low PC3/high PC1 areas predicted for Sanders actually went to Biden, but some high PC3/low PC1 areas (Austin being one example) did the opposite.</p>
		<p>The model identified Warren's bases of support almost perfectly. These were areas high in both PC1 and PC3 and low in PC6; most of the areas with the lowest values for PC6 contained college towns. For instance, in Minnesota, her best counties both in the model and reality were the suburban ones in the Twin Cities metro area (e.g. Dakota, Scott, Washington), while in Virginia she did relatively well in NoVa. The model also correctly predicted that her best county in North Carolina would be Orange. The correlation coefficients between predicted support for Warren in Super Tuesday counties and PC1 was 0.53, while that between Warren's predicted support and PC3 was 0.42. These were the two strongest correlations between support for any candidate and any of my first six principal components, and largely borne out by the results. Plotting Warren's predicted support as a function of PC1 and PC3 demonstrates this, as well as the differences between her support and Sanders's:</p>
		<p><img src="proj_warren_supertuesday_pc13.svg" alt="Projected support for Warren as a function of principal components 1 and 3"></p>
	</div>
	<p>Super Tuesday gave me a large amount of data to work with. Using this, I predicted the results for the states voting on March 10.</p>
	<p><input type="button" value="Show March 10 predictions"></p>
	<div id="march_10" style="display:none">
		<p>Using the Super Tuesday results as training data, I predicted the following delegate allocations for the March 10 states:</p>
		<ul>
			<li>Idaho: Sanders 11, Biden 9</li>
			<li>Michigan: Biden 80, Sanders 45</li>
			<li>Mississippi: Biden 30, Sanders 5</li>
			<li>Missouri: Biden 44, Sanders 24</li>
			<li>North Dakota: Sanders 8, Biden 6</li>
			<li>Washington: Sanders 46, Biden 43</li>
		</ul>
		<p>A county-level map of my predictions is below. A few observations about it:</p>
		<ul>
			<li>Compared to the Super Tuesday predictions, the model now treats Sanders's support as being higher in urban areas. In Michigan, he wins several mid-size cities such as Lansing, Kalamazoo and Midland, while in North Dakota he has good results in Bismarck and Fargo.</li>
			<li>The model has Biden winning in King County, Washington (home of Seattle). Sanders has a large support base in Seattle itself; the 7th congressional district (which is mostly made up of the city proper) is his second-best in the state. However, the suburbs in the east of the county, in the 1st and 8th congressional districts, are demographically very similar to the Bay Area and are projected to have good results for Biden.</li>
			<li>Biden is predicted to sweep Mississippi, as he did with Alabama. Sanders's best shots at winning counties are Hancock (on the Gulf Coast) and Lafayette (home to Ole Miss).</li>
			<li>The model predicts Sanders to do well in college towns. Aside from Lafayette, Mississippi, other college counties projected to give Sanders good results are Washtenaw, Michigan; Whitman, Washington; Latah, Idaho; and Boone, Missouri.</li>
		</ul>
		<img src="county_predictions_mar10.svg" alt="March 10 county-level predictions">
	</div>
	<script type="text/javascript">
		var scButton = document.querySelectorAll('input[type="button"]')[0];
		var analysisButton = document.querySelectorAll('input[type="button"]')[1];
		var mar10Button = document.querySelectorAll('input[type="button"]')[2];

		scButton.onclick = function() {
			if (scButton.value === "Show the South Carolina predictions") {
				document.getElementById("sc_predictions").style.display = "block";
				scButton.value = "Hide the South Carolina predictions";
			}
			else {
				document.getElementById("sc_predictions").style.display = "none";
				scButton.value = "Show the South Carolina predictions";
			}
		}

		analysisButton.onclick = function() {
			if (analysisButton.value === "Show Super Tuesday predictions and analysis") {
				document.getElementById("super_tuesday_analysis").style.display = "block";
				analysisButton.value = "Hide Super Tuesday predictions and analysis";
			}
			else {
				document.getElementById("super_tuesday_analysis").style.display = "none";
				analysisButton.value = "Show Super Tuesday predictions and analysis";
			}
		}

		mar10Button.onclick = function() {
			if (mar10Button.value === "Show March 10 predictions") {
				document.getElementById("march_10").style.display = "block";
				mar10Button.value = "Hide March 10 predictions";
			}
			else {
				document.getElementById("march_10").style.display = "none";
				mar10Button.value = "Show March 10 predictions";
			}
		}
	</script>
</body>
</html>
