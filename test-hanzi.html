<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Test area for the hanzi video project</title>
	<script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
</head>
<body>
	<input type="text" id="hanzi-input" placeholder="Hanzi">
	<button id="hanzi-updater-button">Select hanzi</button>

	<div class="character-target-div" id="div0"></div>
	<div class="character-target-div" id="div1"></div>
	<div class="character-target-div" id="div2"></div>
	<div class="character-target-div" id="div3"></div>
	
	<button id="animate-button">Animate</button>

	<script type="text/javascript">
		const hanziInput = document.getElementById("hanzi-input");

		var selectedHanzi
		var writer

		document.getElementById("hanzi-updater-button").addEventListener("click", updateHanzi);

		function updateHanzi() {
			var numHanzi = Math.min(4,hanziInput.value.length) // The longest HSK words have 4 hanzi, as do chengyu
			for (var i = 0; i < numHanzi; i++) {
					document.querySelectorAll("character-target-div")[i].innerHTML = "";
					selectedHanzi = hanziInput.value[i];
					var currentDiv = "div" + i.toString();
					writer = HanziWriter.create(document.querySelectorAll(currentDiv, selectedHanzi, {
					width: 100,
					height: 100,
					padding: 5,
					showOutline: true
				});
			}
		}

		document.getElementById('animate-button').addEventListener('click', function() {
			writer.animateCharacter();
		});
	</script>
</body>
</html>